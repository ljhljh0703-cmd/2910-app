# 2910 App Development Hand-off Document

## 1. 지금까지 작업 내용 (Current Implementation)

### ⚙️ 핵심 로직 및 기능
*   **하이브리드 타이머 시스템**: 
    *   **60초 카운트다운**: 시작 시 60부터 0까지 매 초 AI 보이스(TTS)로 숫자를 읽어주며 진행됩니다.
    *   **인터럽트 시퀀스**: 타이머 도중 탭하면 즉시 안내 음성("모든 참가자는 5초 뒤 눈을 떠주세요.")을 재생합니다.
    *   **자동 전환**: 60초가 종료되면 안내 음성 재생 후 5초 긴급 카운트다운으로 자동 연결됩니다.
    *   **편의성 제어**: 진행 중 언제든 재터치하여 시스템을 'STANDBY' 상태로 초기화할 수 있습니다.
*   **게임 안내자 패널**: 하단에 6개의 고정 버튼(게임 시작, 각 라운드 종료 등)을 배치하여 상황별 AI 가이드를 제공합니다.
*   **오디오 엔진 (TTS)**: 브라우저 내장 `Web Speech API`를 활용하여 별도 파일 없이 한국어 음성을 출력합니다. 모바일 환경에서의 끊김 방지를 위한 메모리 관리(GC 방지) 로직이 적용되어 있습니다.

### 🎨 디자인 및 UI/UX
*   **테마**: AI 지배 디스토피아 컨셉의 다크 테마 (오렌지/차콜 팔레트).
*   **배경**: 도시 전경 이미지(`bg.png`)를 하단에 배치하여 분위기를 연출했습니다. (버튼 위쪽, 타이머 아래쪽 배치)
*   **중앙 집중 레이아웃**: 십자선(Crosshair) 포커스 디자인을 화면 중앙의 타이머와 일치시켜 몰입감을 높였습니다.
*   **애니메이션 링**: 오렌지색 고정 링 위를 어두운 오버레이가 덮어 나가는 방식으로 시간이 줄어드는 시각적 효과를 구현했습니다.

---

## 2. 앞으로 남은 과제 (Next Steps)

*   **실제 오디오 에셋 교체**: 현재 임시 TTS로 구현된 부분을 성우 녹음 또는 고품질 AI 보이스 파일(`mp3/wav`)로 교체하는 작업이 필요합니다.
*   **PWA 및 모바일 최적화**: 
    *   다양한 안드로이드/iOS 기기에서의 텍스트 가독성 및 사운드 크기 밸런스 조정.
    *   QR 코드를 통한 빠른 접속을 위해 오프라인 캐싱 및 설치형 웹 앱(PWA) 설정 마무리.
*   **화면 상시 켜짐(Wake Lock) 구현**: 게임 도중 스마트폰 화면이 꺼지지 않도록 하는 브라우저 정책 대응 로직 추가.
*   **사운드 중첩 방지 정교화**: 안내자 음성과 타이머 음성이 겹칠 때의 우선순위 로직(Priority Queue) 보완.

---

## 3) 시도했지만 실패한 방법 및 해결 (Lessons Learned)

*   **JSX 템플릿 리터럴 파서 오류**: `className` 내부에서 복잡한 조건부 템플릿 리터럴(` `)을 사용하다가 반복적인 빌드 오류(TS2657, TS1005)가 발생했습니다.
    *   -> **해결**: 복잡한 클래스명 로직을 컴포넌트 렌더링 부 밖으로 빼거나, 변수로 분리하여 JSX를 단순화함으로써 해결했습니다.
*   **배경 이미지 비율 왜곡**: `bg-cover` 속성으로 인해 세로 화면에서 도시 이미지가 과도하게 늘어나는 문제가 있었습니다.
    *   -> **해결**: `bg-contain` 및 `bg-bottom` 속성을 사용하려 했으나, 최종적으로는 `<img>` 태그를 사용하여 레이아웃 상에서 명시적으로 배치하는 방식으로 변경하여 비율과 위치를 모두 잡았습니다.
*   **타이머 중복 렌더링**: 코드 수정 과정에서 실수로 타이머 컴포넌트를 두 번 렌더링하여 화면에 두 개의 타이머가 나타났습니다.
    *   -> **해결**: 중복된 코드 블록을 제거하고 단일 컴포넌트 구조로 재정리했습니다.

---

현재 이 문서는 **Build Mode**에서 작성되었으며, 바로 다음 개발 단계(오디오 파일 연동 등)로 넘어갈 준비가 되어 있습니다.
